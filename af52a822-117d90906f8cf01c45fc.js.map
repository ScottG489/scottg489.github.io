{"version":3,"file":"af52a822-117d90906f8cf01c45fc.js","mappings":"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","sources":["webpack://scottg489.github.io/./src/components/header/SiteNav.tsx"],"sourcesContent":["import { Link } from 'gatsby';\nimport { darken } from 'polished';\nimport React from 'react';\n\nimport { css } from '@emotion/react';\nimport styled from '@emotion/styled';\n\nimport { colors } from '../../styles/colors';\nimport { SocialLink } from '../../styles/shared';\nimport config from '../../website-config';\nimport { Twitter } from '../icons/twitter';\nimport { GitHub } from '../icons/github';\nimport { SubscribeModal } from '../subscribe/SubscribeModal';\nimport { SiteNavLogo } from './SiteNavLogo';\nimport { LinkedIn } from '../icons/linkedin';\nimport { Email } from '../icons/email';\nimport { Rss } from '../icons/rss';\n\ntype SiteNavProps = {\n  readonly isHome?: boolean;\n  readonly isPost?: boolean;\n  readonly post?: any;\n};\n\ntype SiteNavState = {\n  showTitle: boolean;\n};\n\nclass SiteNav extends React.Component<SiteNavProps, SiteNavState> {\n  static defaultProps = {\n    isHome: false,\n    isPost: false,\n    post: '',\n  };\n\n  subscribe = React.createRef<SubscribeModal>();\n  titleRef = React.createRef<HTMLSpanElement>();\n  lastScrollY = 0;\n  ticking = false;\n  state = { showTitle: false };\n\n  openModal = () => {\n    if (this.subscribe.current) {\n      this.subscribe.current.open();\n    }\n  };\n\n  componentDidMount(): void {\n    this.lastScrollY = window.scrollY;\n    if (this.props.isPost) {\n      window.addEventListener('scroll', this.onScroll, { passive: true });\n    }\n  }\n\n  componentWillUnmount(): void {\n    window.removeEventListener('scroll', this.onScroll);\n  }\n\n  onScroll = () => {\n    if (!this.titleRef?.current) {\n      return;\n    }\n\n    if (!this.ticking) {\n      requestAnimationFrame(this.update);\n    }\n\n    this.ticking = true;\n  };\n\n  update = () => {\n    if (!this.titleRef?.current) {\n      return;\n    }\n\n    this.lastScrollY = window.scrollY;\n\n    const trigger = this.titleRef.current.getBoundingClientRect().top;\n    const triggerOffset = this.titleRef.current.offsetHeight + 35;\n\n    // show/hide post title\n    if (this.lastScrollY >= trigger + triggerOffset) {\n      this.setState({ showTitle: true });\n    } else {\n      this.setState({ showTitle: false });\n    }\n\n    this.ticking = false;\n  };\n\n  render() {\n    const { isHome = false, isPost = false, post = {} } = this.props;\n    return (\n      <>\n        {config.showSubscribe && <SubscribeModal ref={this.subscribe} />}\n        <nav css={SiteNavStyles}>\n          <SiteNavLeft className='site-nav-left'>\n            {!isHome && <SiteNavLogo />}\n            <SiteNavContent css={[this.state.showTitle ? HideNav : '']}>\n              <ul css={NavStyles} role='menu'>\n                <li role='menuitem'>\n                  <Link to='/' activeClassName='nav-current'>\n                    Home\n                  </Link>\n                </li>\n                <li role='menuitem'>\n                  <Link to='/posts' activeClassName='nav-current'>\n                    Posts\n                  </Link>\n                </li>\n                <li role='menuitem'>\n                  <Link to='/projects' activeClassName='nav-current'>\n                    Projects\n                  </Link>\n                </li>\n                <li role='menuitem'>\n                  <a href='https://docs.google.com/document/d/1CSoMo6zwKaeT4jfHjl3YTOx4ad9z5u7GVpqUUqC2Z4k'>Resume</a>\n                </li>\n                <li role='menuitem'>\n                  <Link to='/about' activeClassName='nav-current'>\n                    About\n                  </Link>\n                </li>\n              </ul>\n              {isPost && (\n                <NavPostTitle ref={this.titleRef} className='nav-post-title'>\n                  {post.title}\n                </NavPostTitle>\n              )}\n            </SiteNavContent>\n          </SiteNavLeft>\n          <SiteNavRight>\n            <SocialLinks>\n              {config.github && (\n                <a\n                  css={SocialLink}\n                  href={config.github}\n                  title='GitHub'\n                  target='_blank'\n                  rel='noopener noreferrer'\n                >\n                  <GitHub />\n                </a>\n              )}\n              {config.linkedin && (\n                <a\n                  css={SocialLink}\n                  href={config.linkedin}\n                  title='LinkedIn'\n                  target='_blank'\n                  rel='noopener noreferrer'\n                >\n                  <LinkedIn />\n                </a>\n              )}\n              {config.twitter && (\n                <a\n                  css={SocialLink}\n                  href={config.twitter}\n                  title='Twitter'\n                  target='_blank'\n                  rel='noopener noreferrer'\n                >\n                  <Twitter />\n                </a>\n              )}\n              {config.email && (\n                <a\n                  css={SocialLink}\n                  href={config.email}\n                  title='Email'\n                  target='_blank'\n                  rel='noopener noreferrer'\n                >\n                  <Email />\n                </a>\n              )}\n              {config.rss && (\n                <a\n                  css={SocialLink}\n                  href={config.rss}\n                  title='RSS'\n                  target='_blank'\n                  rel='noopener noreferrer'\n                >\n                  <Rss />\n                </a>\n              )}\n            </SocialLinks>\n            {config.showSubscribe && (\n              <SubscribeButton onClick={this.openModal}>Subscribe</SubscribeButton>\n            )}\n          </SiteNavRight>\n        </nav>\n      </>\n    );\n  }\n}\n\nexport const SiteNavMain = css`\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  z-index: 1000;\n  /* background: color(var(--darkgrey) l(-5%)) */\n  background: ${darken('0.05', colors.darkgrey)};\n\n  @media (max-width: 700px) {\n    padding-right: 0;\n    padding-left: 0;\n  }\n`;\n\nconst SiteNavStyles = css`\n  position: relative;\n  z-index: 100;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  overflow-y: hidden;\n  height: 64px;\n  font-size: 1.3rem;\n`;\n\nconst SiteNavLeft = styled.div`\n  flex: 1 0 auto;\n  display: flex;\n  align-items: center;\n  overflow-x: auto;\n  overflow-y: hidden;\n  -webkit-overflow-scrolling: touch;\n  margin-right: 10px;\n  padding: 10px 0 80px;\n  font-weight: 500;\n  letter-spacing: 0.2px;\n  text-transform: uppercase;\n  white-space: nowrap;\n\n  -ms-overflow-scrolling: touch;\n\n  @media (max-width: 700px) {\n    margin-right: 0;\n    padding-left: 5vw;\n  }\n`;\n\nconst SiteNavContent = styled.div`\n  position: relative;\n  align-self: flex-start;\n`;\n\nconst NavStyles = css`\n  position: absolute;\n  z-index: 1000;\n  display: flex;\n  margin: 0 0 0 -12px;\n  padding: 0;\n  list-style: none;\n  transition: all 1s cubic-bezier(0.19, 1, 0.22, 1);\n\n  li {\n    display: block;\n    margin: 0;\n    padding: 0;\n  }\n\n  li a {\n    position: relative;\n    display: block;\n    padding: 12px 12px;\n    color: #fff;\n    opacity: 0.8;\n    transition: opacity 0.35s ease-in-out;\n  }\n\n  li a:hover {\n    text-decoration: none;\n    opacity: 1;\n  }\n\n  li a:before {\n    content: '';\n    position: absolute;\n    right: 100%;\n    bottom: 8px;\n    left: 12px;\n    height: 1px;\n    background: #fff;\n    opacity: 0.25;\n    transition: all 0.35s ease-in-out;\n  }\n\n  li a:hover:before {\n    right: 12px;\n    opacity: 0.5;\n  }\n\n  .nav-current {\n    opacity: 1;\n  }\n`;\n\nconst SiteNavRight = styled.div`\n  flex: 0 1 auto;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  padding: 10px 0;\n  height: 64px;\n\n  @media (max-width: 700px) {\n    display: none;\n  }\n`;\n\nconst SocialLinks = styled.div`\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n`;\n\nconst SubscribeButton = styled.a`\n  display: block;\n  padding: 4px 10px;\n  margin: 0 0 0 10px;\n  border: #fff 1px solid;\n  color: #fff;\n  line-height: 1em;\n  border-radius: 10px;\n  opacity: 0.8;\n\n  :hover {\n    text-decoration: none;\n    opacity: 1;\n    cursor: pointer;\n  }\n`;\n\nconst NavPostTitle = styled.span`\n  visibility: hidden;\n  position: absolute;\n  top: 9px;\n  color: #fff;\n  font-size: 1.7rem;\n  font-weight: 400;\n  text-transform: none;\n  opacity: 0;\n  transition: all 1s cubic-bezier(0.19, 1, 0.22, 1);\n  transform: translateY(175%);\n\n  .dash {\n    left: -25px;\n  }\n\n  .dash:before {\n    content: 'â€“ ';\n    opacity: 0.5;\n  }\n`;\n\nconst HideNav = css`\n  ul {\n    visibility: hidden;\n    opacity: 0;\n    transform: translateY(-175%);\n  }\n  .nav-post-title {\n    visibility: visible;\n    opacity: 1;\n    transform: translateY(0);\n  }\n`;\n\nexport default SiteNav;\n"],"names":["SiteNav","_React$Component","args","_this","call","apply","concat","subscribe","React","titleRef","lastScrollY","ticking","state","showTitle","openModal","current","open","onScroll","_this$titleRef","requestAnimationFrame","update","_this$titleRef2","window","scrollY","trigger","getBoundingClientRect","top","triggerOffset","offsetHeight","setState","_inheritsLoose","_proto","prototype","componentDidMount","this","props","isPost","addEventListener","passive","componentWillUnmount","removeEventListener","render","isHome","post","___EmotionJSX","config","showSubscribe","SubscribeModal","ref","css","SiteNavStyles","SiteNavLeft","className","SiteNavLogo","SiteNavContent","HideNav","NavStyles","role","Link","to","activeClassName","href","NavPostTitle","title","SiteNavRight","SocialLinks","github","SocialLink","target","rel","GitHub","linkedin","LinkedIn","twitter","Twitter","email","Email","rss","Rss","SubscribeButton","onClick","defaultProps","SiteNavMain","darken","colors","darkgrey","name","styles","_styled"],"sourceRoot":""}